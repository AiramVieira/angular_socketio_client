.chat-wrapper {
  display: flex;
  flex-flow: column;

  .chat-header {
    width: 100% !important;
    height: 64px !important;

    margin: 0px;
    padding: 12px 22px;

    background-color: #fff;
    box-shadow: 0 0px 11px 0 rgba(0, 0, 0, 0.18);
    z-index: 2;
  }

  .chat-message-composer {
    display: flex;
    flex-flow: row;

    width: 100% !important;
    height: 64px !important;
    min-height: 64px !important;

    margin: 0px;
    padding: 12px 22px;

    background-color: #fff;
    box-shadow: 0 0px 11px 0 rgba(0, 0, 0, 0.18);

    input {
      flex-grow: 2;
      border: none;
      outline: none;
    }
  }
}

$bubble-width: 75%;
$bubble-height: 35px;

$bubble-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);
$bubble-shadow: 0 4px 11px 0 rgba(0, 0, 0, 0.05);



$bubble-border-radius: 1px;

$bubble-x-padding: 6px;
$bubble-y-padding: 3px;

$bubble-x-margin: 15px;
$bubble-y-margin: 0px;

$bubble-right-theme: #fafafa; // #dcf8c6;
$bubble-left-theme: #e9eaf3; // #f1f1f1;

$light: #f1f1f1;
$white: #ffffff;
$primary: #4b4279;
$darker: #333;

.color-icon {
  color: $bubble-left-theme;
}

.bar-button-default-md {
  color: #f1f1f1;
}

.chat-content {
  position: relative;
  flex-grow: 2;
  flex-flow: row;
  padding: 6px 12px;
  bottom: 0;
  overflow: auto;
}

.chat-status {
  min-height: 49px;
  .chat-date {
    display: block;
    font-size: 10px;
    font-style: italic;
    color: #fff;
    text-shadow: 0px -1px 0px #222, 0px 1px 0px #aaa;
    height: 15px;
    left: 10%;
    right: 10%;
  }
  .chat-content-center {
    padding: 5px 10px;
    background-color: #e1e1f7;
    border-radius: 6px;
    font-size: 12px;
    color: #555;
    height: 34px;
    left: 10%;
    right: 10%;
  }
}

.bubble {
  
  p {
    margin: 0px !important;
    text-align: initial;
    word-break: break-word;
    white-space: pre-wrap;
  }

  .bubble-after:after {
    content: "" !important;
    position: absolute !important;
    top: 0 !important;
    width: 0 !important;
    height: 0 !important;
    border: 27px solid transparent;
    border-left-color: #dcf8c6;
    border-right: 0;
    border-top: 0;
    margin-top: -13.5px;
    margin-right: -27px;
  }

  .right-bubble {
    position: relative;

    margin-left: 30px !important;
    border: solid 1px #e9eaf3;
    padding: $bubble-y-padding $bubble-x-padding;
    margin-right: $bubble-x-margin;

    background: $bubble-right-theme;

    border-radius: $bubble-border-radius;
    box-shadow: $bubble-shadow;

    float: right;

    span.msg-name {
      color: #4b4279;
      font-weight: 600;
    }
    &.bubble-after:after {
      right: 0 !important;
      //border: 27px solid transparent;
      border-left-color: $bubble-right-theme;
      //border-right: 0;
      //border-top: 0;
      margin-right: -27px;
    }
  }

  .left-bubble {
    position: relative;

    margin-right: 30px !important;

    max-width: $bubble-width;
    // min-height: $bubble-height;

    padding: $bubble-y-padding $bubble-x-padding;

    background: $bubble-left-theme;

    border-radius: $bubble-border-radius;
    box-shadow: $bubble-shadow;

    float: left;

    span.msg-name {
      color: #ea4d7e;
      font-weight: 600;
    }
    &.bubble-after:after {
      left: 0;
      border: 31px solid transparent;
      border-right-color: $bubble-left-theme;
      border-left: 0;
      border-top: 0;
      margin-left: -27px;
    }
  }

  .bubble-title {
    display: inline-block;
    width: 100%;
    margin-bottom: -4px;
    padding: 4px 1px 0px 1px;
  }

  .bubble-details {
    display: flex;
    flex-flow: row;
    align-items: center;
    padding-left: 12px;

    .message-timestamp {
      font-size: 11px;
    }
    .message-status {
      font-size: 13px;
      font-weight: 700;
      padding: 0px 2px 0px 6px;
    }
  }

  // .bubble-message {
  //   display: block;
  //   align-items: center;
  //   padding-top: 9px;

  //   p {
  //     color: #333;
  //   }
  // }
}

.date-bubble {
  background-color: #fafafa;
  border: solid 1px #e9eaf3;
  border-radius: 2px;
  padding: 4px 8px;
  width: auto !important;
  display: inline-block;
  box-shadow: 0px 2px 4px #e9eaf3;
}

.message-bubble {
  background-color: #f1f1f1;
  border: solid 1px #e9eaf3;
  border-radius: 2px;
  padding: 4px 8px;
  width: auto !important;
  // font-size: 13px;
  display: inline-block;
  margin-left: 44%;
  // box-shadow: 0px 2px 4px #e9eaf3;
  box-shadow: 0 4px 15px 0 rgba(0, 0, 0, 0.15);
}

// container
.chat-container {
  .scroll-content {
    background-color: $light !important;
  }

  // ion-list
  .messages-bubbles-container {
    padding-top: 4px;

    // ion-item
    .message-item-container {
      min-height: auto !important;

      .item-inner {
        .input-wrapper {
          margin: 1px;

          // message bubbles
          .bubble {
            .left-bubble,
            .right-bubble {
              max-width: $bubble-width;
              min-height: auto !important;
            }

            // ----------------------------------
            //
            // ----------------------------------
            $left-bubble-bg: #e9eaf3;
            $right-bubble-bg: $white;

            .left-bubble {
              background-color: $left-bubble-bg;

              .bubble-title {
                color: $primary;
              }

              .bubble-message {
                p {
                  margin: 0 !important;
                }
                .message-content {
                  color: $darker !important;
                }
              }

              &.bubble-after:after {
                border-right-color: $left-bubble-bg;
              }
            }

            // ----------------------------------
            //
            // ----------------------------------
            .right-bubble {
              background-color: $right-bubble-bg;

              .bubble-title {
                color: $primary;
              }

              .bubble-message {
                .message-content {
                  color: $darker !important;
                }
              }

              &.bubble-after:after {
                border-left-color: $right-bubble-bg;
              }
            }

            //
            .bubble-message {
              display: flow-root;
              padding-top: 4px;
              padding-bottom: 4px;

              p {
                margin: 0 !important;
              }

              .bubble-details {
                .message-timestamp {
                  font-size: 0.8em;
                }
              }
            }
          }
        }
      }
    }
  }
}
